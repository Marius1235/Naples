[{"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/index.tsx":"1","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/reportWebVitals.ts":"2","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/App.tsx":"3","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/index.ts":"4","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/Tester.tsx":"5","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/ChooseBackgroundPage.tsx":"6","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/components/CameraComponent.tsx":"7","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/components/ChooseBackgroundComponent.tsx":"8","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/TakePicturePage.tsx":"9","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/PictureChoicePage.tsx":"10","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/contexts/CapturedImageContext.tsx":"11","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/components/ImageChoiceComponent.tsx":"12","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/services/BackgroundRemoverSerive.ts":"13"},{"size":682,"mtime":1685615954419,"results":"14","hashOfConfig":"15"},{"size":425,"mtime":1685615954428,"results":"16","hashOfConfig":"15"},{"size":547,"mtime":1685615954418,"results":"17","hashOfConfig":"15"},{"size":229,"mtime":1685615954420,"results":"18","hashOfConfig":"15"},{"size":183,"mtime":1685448476234,"results":"19","hashOfConfig":"15"},{"size":277,"mtime":1685615954420,"results":"20","hashOfConfig":"15"},{"size":4045,"mtime":1685632071554,"results":"21","hashOfConfig":"15"},{"size":152,"mtime":1685615954418,"results":"22","hashOfConfig":"15"},{"size":721,"mtime":1685627088647,"results":"23","hashOfConfig":"15"},{"size":692,"mtime":1685627094535,"results":"24","hashOfConfig":"15"},{"size":1201,"mtime":1685651767706,"results":"25","hashOfConfig":"15"},{"size":938,"mtime":1685627069747,"results":"26","hashOfConfig":"15"},{"size":1321,"mtime":1685651209516,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"18vf040",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/index.tsx",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/reportWebVitals.ts",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/App.tsx",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/index.ts",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/Tester.tsx",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/ChooseBackgroundPage.tsx",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/components/CameraComponent.tsx",["68"],[],"// Imports of necessary libraries and files\nimport { useRef, useEffect, useState, useContext } from \"react\";\nimport { CapturedImageContext } from \"../contexts/CapturedImageContext\";\nimport { useNavigate } from \"react-router-dom\";\n\n// Camera component for video streaming, picture taking and countdown.\nconst CameraComponent: React.FC = () => {\n  const videoRef = useRef<HTMLVideoElement>(null); // useRef can be used to store a mutable value that does not cause a re-render when updated.\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const capturedImageContext = useContext(CapturedImageContext);\n  const [countdown, setCountdown] = useState(5);\n  const [isCounting, setIsCounting] = useState(false);\n  const navigate = useNavigate();\n\n  // Starts a timer that counts down from 5 to 0.\n  useEffect(() => {\n    let timer: NodeJS.Timeout;\n\n    if (isCounting) {\n      timer = setInterval(() => {\n        setCountdown((prevCountdown) => prevCountdown - 1);\n      }, 1000);\n    }\n\n    return () => clearInterval(timer);\n  }, [isCounting]);\n\n  // When the countdown reaches 0, the takePicture function is called and the image is stored in a useState.\n  useEffect(() => {\n    if (countdown === 0 && isCounting) {\n      takePicture();\n      setTimeout(() => {\n        navigate(\"pictureChoice\");\n      }, 50);\n    }\n  }, [countdown, isCounting, capturedImageContext]);\n\n  // Runs when the button is clicked. Starts the timer which then initilizes the takePhoto function.\n  // After the takePhoto function is called, you then get redirected to the next page.\n  const startCountdown = () => {\n    setCountdown(5);\n    setIsCounting(true);\n  };\n\n  // Function that runs in the background on startup. Finds the selected external device on the computer.\n  useEffect(() => {\n    const findCamera = async (): Promise<MediaDeviceInfo | null> => {\n      try {\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const camera = devices.find(\n          (device) =>\n            device.kind === \"videoinput\" && device.label.includes(\"C920\")\n        );\n        return camera || null;\n      } catch (error) {\n        console.error(\"Error enumerating devices:\", error);\n        return null;\n      }\n    };\n\n    // If the camera is found the current media device will stream the video input onto the website.\n    const startCamera = async (): Promise<void> => {\n      const camera = await findCamera();\n      if (camera) {\n        const constraints: MediaStreamConstraints = {\n          video: { deviceId: camera.deviceId },\n        };\n\n        navigator.mediaDevices\n          .getUserMedia(constraints)\n          .then((stream) => {\n            if (videoRef.current) {\n              videoRef.current.srcObject = stream;\n            }\n          })\n          .catch((error) => {\n            console.error(\"Error accessing camera:\", error);\n          });\n      } else {\n        console.error(\"Camera not found.\");\n      }\n    };\n\n    startCamera();\n  }, []);\n\n  // Takes a picture of the input and stores the image in a background running useState.\n  const takePicture = () => {\n    if (videoRef.current && canvasRef.current) {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n\n      const context = canvas.getContext(\"2d\");\n      context?.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n      const dataUrl = canvas.toDataURL(\"image/png\");\n\n      if (capturedImageContext) {\n        capturedImageContext.setCapturedImage(dataUrl);\n      }\n    }\n  };\n\n  // Returns the video input from the camera and a button that starts a countdown for the picture to be taken.\n  return (\n    <div>\n      <video ref={videoRef} autoPlay muted />\n      <canvas ref={canvasRef} style={{ display: \"none\" }} />\n      {isCounting ? (\n        <p>Countdown: {countdown}</p>\n      ) : (\n        <button onClick={startCountdown}>Start Countdown</button>\n      )}\n    </div>\n  );\n};\n\n// Export for use in pages\nexport default CameraComponent;\n","/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/components/ChooseBackgroundComponent.tsx",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/TakePicturePage.tsx",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/pages/PictureChoicePage.tsx",[],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/contexts/CapturedImageContext.tsx",["69"],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/components/ImageChoiceComponent.tsx",["70","71","72"],[],"/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/services/BackgroundRemoverSerive.ts",["73","74","75","76","77"],[],{"ruleId":"78","severity":1,"message":"79","line":36,"column":6,"nodeType":"80","endLine":36,"endColumn":51,"suggestions":"81"},{"ruleId":"82","severity":1,"message":"83","line":3,"column":3,"nodeType":"84","messageId":"85","endLine":3,"endColumn":13},{"ruleId":"82","severity":1,"message":"86","line":2,"column":18,"nodeType":"84","messageId":"85","endLine":2,"endColumn":27},{"ruleId":"82","severity":1,"message":"87","line":2,"column":29,"nodeType":"84","messageId":"85","endLine":2,"endColumn":37},{"ruleId":"82","severity":1,"message":"88","line":5,"column":8,"nodeType":"84","messageId":"85","endLine":5,"endColumn":32},{"ruleId":"82","severity":1,"message":"89","line":1,"column":8,"nodeType":"84","messageId":"85","endLine":1,"endColumn":13},{"ruleId":"82","severity":1,"message":"83","line":1,"column":17,"nodeType":"84","messageId":"85","endLine":1,"endColumn":27},{"ruleId":"82","severity":1,"message":"86","line":1,"column":29,"nodeType":"84","messageId":"85","endLine":1,"endColumn":38},{"ruleId":"82","severity":1,"message":"90","line":2,"column":10,"nodeType":"84","messageId":"85","endLine":2,"endColumn":22},{"ruleId":"82","severity":1,"message":"91","line":3,"column":10,"nodeType":"84","messageId":"85","endLine":3,"endColumn":30},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'navigate' and 'takePicture'. Either include them or remove the dependency array.","ArrayExpression",["92"],"@typescript-eslint/no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useState' is defined but never used.","'BackgroundRemoverService' is defined but never used.","'React' is defined but never used.","'ResponseType' is defined but never used.","'CapturedImageContext' is defined but never used.",{"desc":"93","fix":"94"},"Update the dependencies array to be: [countdown, isCounting, capturedImageContext, takePicture, navigate]",{"range":"95","text":"96"},[1322,1367],"[countdown, isCounting, capturedImageContext, takePicture, navigate]"]