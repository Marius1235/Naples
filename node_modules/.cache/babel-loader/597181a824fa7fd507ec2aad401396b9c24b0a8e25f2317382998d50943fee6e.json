{"ast":null,"code":"const BackgroundRemoverService = (() => {\n  // const removeBackground = async () => {\n  //     const base64Image = btoa(image);\n\n  //     try {\n  //         const response = await fetch('https://api.remove.bg/v1.0/removebg', {\n  //           method: 'POST',\n  //           headers: {\n  //             'X-Api-Key': '95SSTmGRHJST1iMQBdht7EXW',\n  //             'Content-Type': 'application/json',\n  //           },\n  //           body: JSON.stringify({\n  //             image_file_b64: base64Image,\n  //             size: 'auto',\n  //           }),\n  //         });\n\n  //         if (!response.ok) {\n  //           throw new Error('Remove bg API call failed');\n  //         }\n\n  //         console.log(\"hey\")\n\n  //         const data = await response.json();\n\n  //         // return the image data\n  //         return data.result;\n  //       } catch (error) {\n  //         console.error(\"lol\");\n  //         throw error;\n  //       }\n\n  const removeBackground = () => {\n    const axios = require('axios');\n    const FormData = require('form-data');\n    const fs = require('fs');\n    const formData = new FormData();\n    formData.append('size', 'auto');\n    formData.append('image_url', 'https://www.remove.bg/example.jpg');\n    axios({\n      method: 'post',\n      url: 'https://api.remove.bg/v1.0/removebg',\n      data: formData,\n      responseType: 'arraybuffer',\n      headers: {\n        ...formData.getHeaders(),\n        'X-Api-Key': 'INSERT_YOUR_API_KEY_HERE'\n      },\n      encoding: null\n    }).then(response => {\n      if (response.status != 200) return console.error('Error:', response.status, response.statusText);\n      fs.writeFileSync(\"no-bg.png\", response.data);\n    }).catch(error => {\n      return console.error('Request failed:', error);\n    });\n  };\n  return {\n    removeBackground\n  };\n})();\nexport default BackgroundRemoverService;","map":{"version":3,"names":["BackgroundRemoverService","removeBackground","axios","require","FormData","fs","formData","append","method","url","data","responseType","headers","getHeaders","encoding","then","response","status","console","error","statusText","writeFileSync","catch"],"sources":["/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/services/BackgroundRemoverSerive.ts"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { ResponseType } from 'axios';\nimport { CapturedImageContext } from '../contexts/CapturedImageContext';\n\nconst BackgroundRemoverService = (\n    () => {\n        // const removeBackground = async () => {\n        //     const base64Image = btoa(image);\n\n        //     try {\n        //         const response = await fetch('https://api.remove.bg/v1.0/removebg', {\n        //           method: 'POST',\n        //           headers: {\n        //             'X-Api-Key': '95SSTmGRHJST1iMQBdht7EXW',\n        //             'Content-Type': 'application/json',\n        //           },\n        //           body: JSON.stringify({\n        //             image_file_b64: base64Image,\n        //             size: 'auto',\n        //           }),\n        //         });\n            \n        //         if (!response.ok) {\n        //           throw new Error('Remove bg API call failed');\n        //         }\n\n        //         console.log(\"hey\")\n            \n        //         const data = await response.json();\n            \n        //         // return the image data\n        //         return data.result;\n        //       } catch (error) {\n        //         console.error(\"lol\");\n        //         throw error;\n        //       }\n        \n\n        const removeBackground = () => {\n          const axios = require('axios');\n          const FormData = require('form-data');\n          const fs = require('fs');\n\n          const formData = new FormData();\n          formData.append('size', 'auto');\n          formData.append('image_url', 'https://www.remove.bg/example.jpg');\n\n          axios({\n          method: 'post',\n          url: 'https://api.remove.bg/v1.0/removebg',\n          data: formData,\n          responseType: 'arraybuffer',\n          headers: {\n          ...formData.getHeaders(),\n          'X-Api-Key': 'INSERT_YOUR_API_KEY_HERE',\n        },\n          encoding: null\n        })\n      .then((response: { status: number; statusText: any; data: any; }) => {\n      if(response.status != 200) return console.error('Error:', response.status, response.statusText);\n      fs.writeFileSync(\"no-bg.png\", response.data);\n      })\n      .catch((error) => {\n    return console.error('Request failed:', error);\n});  \n        }\n\n\n\n        return{\n            removeBackground\n        }\n    }    \n)();\n\nexport default BackgroundRemoverService;"],"mappings":"AAIA,MAAMA,wBAAwB,GAAG,CAC7B,MAAM;EACF;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;;EAEA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAGA,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;IAC9B,MAAMC,QAAQ,GAAGD,OAAO,CAAC,WAAW,CAAC;IACrC,MAAME,EAAE,GAAGF,OAAO,CAAC,IAAI,CAAC;IAExB,MAAMG,QAAQ,GAAG,IAAIF,QAAQ,CAAC,CAAC;IAC/BE,QAAQ,CAACC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC;IAC/BD,QAAQ,CAACC,MAAM,CAAC,WAAW,EAAE,mCAAmC,CAAC;IAEjEL,KAAK,CAAC;MACNM,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,qCAAqC;MAC1CC,IAAI,EAAEJ,QAAQ;MACdK,YAAY,EAAE,aAAa;MAC3BC,OAAO,EAAE;QACT,GAAGN,QAAQ,CAACO,UAAU,CAAC,CAAC;QACxB,WAAW,EAAE;MACf,CAAC;MACCC,QAAQ,EAAE;IACZ,CAAC,CAAC,CACHC,IAAI,CAAEC,QAAyD,IAAK;MACrE,IAAGA,QAAQ,CAACC,MAAM,IAAI,GAAG,EAAE,OAAOC,OAAO,CAACC,KAAK,CAAC,QAAQ,EAAEH,QAAQ,CAACC,MAAM,EAAED,QAAQ,CAACI,UAAU,CAAC;MAC/Ff,EAAE,CAACgB,aAAa,CAAC,WAAW,EAAEL,QAAQ,CAACN,IAAI,CAAC;IAC5C,CAAC,CAAC,CACDY,KAAK,CAAEH,KAAK,IAAK;MACpB,OAAOD,OAAO,CAACC,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IAClD,CAAC,CAAC;EACM,CAAC;EAID,OAAM;IACFlB;EACJ,CAAC;AACL,CAAC,EACH,CAAC;AAEH,eAAeD,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}