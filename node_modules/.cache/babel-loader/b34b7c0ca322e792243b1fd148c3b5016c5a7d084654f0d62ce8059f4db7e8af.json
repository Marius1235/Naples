{"ast":null,"code":"import { useContext, useEffect } from 'react';\nimport axios from \"axios\";\nimport { CapturedImageContext } from '../contexts/CapturedImageContext';\nconst capturedImage = useContext(CapturedImageContext);\nconst BackgroundRemoverService = (() => {\n  var _s = $RefreshSig$();\n  const removeBackground = () => {\n    _s();\n    useEffect(() => {\n      const removeBackground = async () => {\n        if (!capturedImage) return;\n\n        // Prepare form data\n        const formData = new FormData();\n        formData.append('image_file_b64', capturedImage.toString());\n        formData.append('size', 'auto');\n        try {\n          const response = await axios.post('https://api.remove.bg/v1.0/removebg', formData, {\n            headers: {\n              'X-Api-Key': 'HdipcGkiF2z1vz7jjRaii7St'\n            }\n          });\n\n          // URL.createObjectURL may not work with binary data directly.\n          // You need to convert it to a Blob object first.\n          const blob = new Blob([response.data], {\n            type: 'image/png'\n          });\n          capturedImage.setCapturedImage(URL.createObjectURL(blob));\n        } catch (error) {\n          console.error(error);\n        }\n      };\n      removeBackground();\n    }, [capturedImage]);\n  };\n  _s(removeBackground, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n})();\nexport default BackgroundRemoverService;","map":{"version":3,"names":["useContext","useEffect","axios","CapturedImageContext","capturedImage","BackgroundRemoverService","_s","$RefreshSig$","removeBackground","formData","FormData","append","toString","response","post","headers","blob","Blob","data","type","setCapturedImage","URL","createObjectURL","error","console"],"sources":["/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/services/BackgroundRemoverSerive.ts"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport axios, { AxiosResponse } from \"axios\";\nimport { CapturedImageContext } from '../contexts/CapturedImageContext';\n\nconst capturedImage = useContext(CapturedImageContext)\n\nconst BackgroundRemoverService = (\n    () => {\n\n    const removeBackground = () => {\n      useEffect(() => {\n        const removeBackground = async () => {\n          if (!capturedImage) return;\n    \n          // Prepare form data\n          const formData = new FormData();\n          formData.append('image_file_b64', capturedImage.toString());\n          formData.append('size', 'auto');\n    \n          try {\n            const response: AxiosResponse = await axios.post(\n              'https://api.remove.bg/v1.0/removebg',\n              formData,\n              {\n                headers: {\n                  'X-Api-Key': 'HdipcGkiF2z1vz7jjRaii7St',\n                },\n              },\n            );\n    \n            // URL.createObjectURL may not work with binary data directly.\n            // You need to convert it to a Blob object first.\n            const blob = new Blob([response.data], { type: 'image/png' });\n            capturedImage.setCapturedImage(URL.createObjectURL(blob));\n          } catch (error) {\n            console.error(error);\n          }\n        };\n    \n        removeBackground();\n      }, [capturedImage]);\n    }\n       \n        \n\n    }\n)();\n\nexport default BackgroundRemoverService;"],"mappings":"AAAA,SAAgBA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,OAAOC,KAAK,MAAyB,OAAO;AAC5C,SAASC,oBAAoB,QAAQ,kCAAkC;AAEvE,MAAMC,aAAa,GAAGJ,UAAU,CAACG,oBAAoB,CAAC;AAEtD,MAAME,wBAAwB,GAAG,CAC7B,MAAM;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAEN,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAAAF,EAAA;IAC7BL,SAAS,CAAC,MAAM;MACd,MAAMO,gBAAgB,GAAG,MAAAA,CAAA,KAAY;QACnC,IAAI,CAACJ,aAAa,EAAE;;QAEpB;QACA,MAAMK,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEP,aAAa,CAACQ,QAAQ,CAAC,CAAC,CAAC;QAC3DH,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC;QAE/B,IAAI;UACF,MAAME,QAAuB,GAAG,MAAMX,KAAK,CAACY,IAAI,CAC9C,qCAAqC,EACrCL,QAAQ,EACR;YACEM,OAAO,EAAE;cACP,WAAW,EAAE;YACf;UACF,CACF,CAAC;;UAED;UACA;UACA,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACJ,QAAQ,CAACK,IAAI,CAAC,EAAE;YAAEC,IAAI,EAAE;UAAY,CAAC,CAAC;UAC7Df,aAAa,CAACgB,gBAAgB,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC,CAAC;QAC3D,CAAC,CAAC,OAAOO,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACtB;MACF,CAAC;MAEDf,gBAAgB,CAAC,CAAC;IACpB,CAAC,EAAE,CAACJ,aAAa,CAAC,CAAC;EACrB,CAAC;EAAAE,EAAA,CAhCKE,gBAAgB;AAoCtB,CAAC,EACH,CAAC;AAEH,eAAeH,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}