{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect } from 'react';\nimport axios from \"axios\";\nimport { CapturedImageContext } from '../contexts/CapturedImageContext';\nconst capturedImage = useContext(CapturedImageContext);\nconst BackgroundRemoverService = _s(() => {\n  _s();\n  useEffect(() => {\n    const removeBackground = async () => {\n      if (!capturedImage) return;\n\n      // Prepare form data\n      const formData = new FormData();\n      formData.append('image_file_b64', capturedImage.toString());\n      formData.append('size', 'auto');\n      try {\n        const response = await axios.post('https://api.remove.bg/v1.0/removebg', formData, {\n          headers: {\n            'X-Api-Key': 'HdipcGkiF2z1vz7jjRaii7St'\n          }\n        });\n\n        // URL.createObjectURL may not work with binary data directly.\n        // You need to convert it to a Blob object first.\n        const blob = new Blob([response.data], {\n          type: 'image/png'\n        });\n        capturedImage.setCapturedImage(URL.createObjectURL(blob));\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    removeBackground();\n  }, [capturedImage]);\n}, \"OD7bBpZva5O2jO+Puf00hKivP7c=\")();\nexport default BackgroundRemoverService;","map":{"version":3,"names":["useContext","useEffect","axios","CapturedImageContext","capturedImage","BackgroundRemoverService","_s","removeBackground","formData","FormData","append","toString","response","post","headers","blob","Blob","data","type","setCapturedImage","URL","createObjectURL","error","console"],"sources":["/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/services/BackgroundRemoverSerive.ts"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport axios, { AxiosResponse } from \"axios\";\nimport { CapturedImageContext } from '../contexts/CapturedImageContext';\n\nconst capturedImage = useContext(CapturedImageContext)\n\nconst BackgroundRemoverService = (\n    () => {\n       \n        useEffect(() => {\n            const removeBackground = async () => {\n              if (!capturedImage) return;\n        \n              // Prepare form data\n              const formData = new FormData();\n              formData.append('image_file_b64', capturedImage.toString());\n              formData.append('size', 'auto');\n        \n              try {\n                const response: AxiosResponse = await axios.post(\n                  'https://api.remove.bg/v1.0/removebg',\n                  formData,\n                  {\n                    headers: {\n                      'X-Api-Key': 'HdipcGkiF2z1vz7jjRaii7St',\n                    },\n                  },\n                );\n        \n                // URL.createObjectURL may not work with binary data directly.\n                // You need to convert it to a Blob object first.\n                const blob = new Blob([response.data], { type: 'image/png' });\n                capturedImage.setCapturedImage(URL.createObjectURL(blob));\n              } catch (error) {\n                console.error(error);\n              }\n            };\n        \n            removeBackground();\n          }, [capturedImage]);\n\n    }\n)();\n\nexport default BackgroundRemoverService;"],"mappings":";AAAA,SAAgBA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,OAAOC,KAAK,MAAyB,OAAO;AAC5C,SAASC,oBAAoB,QAAQ,kCAAkC;AAEvE,MAAMC,aAAa,GAAGJ,UAAU,CAACG,oBAAoB,CAAC;AAEtD,MAAME,wBAAwB,GAAGC,EAAA,CAC7B,MAAM;EAAAA,EAAA;EAEFL,SAAS,CAAC,MAAM;IACZ,MAAMM,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI,CAACH,aAAa,EAAE;;MAEpB;MACA,MAAMI,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEN,aAAa,CAACO,QAAQ,CAAC,CAAC,CAAC;MAC3DH,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC;MAE/B,IAAI;QACF,MAAME,QAAuB,GAAG,MAAMV,KAAK,CAACW,IAAI,CAC9C,qCAAqC,EACrCL,QAAQ,EACR;UACEM,OAAO,EAAE;YACP,WAAW,EAAE;UACf;QACF,CACF,CAAC;;QAED;QACA;QACA,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACJ,QAAQ,CAACK,IAAI,CAAC,EAAE;UAAEC,IAAI,EAAE;QAAY,CAAC,CAAC;QAC7Dd,aAAa,CAACe,gBAAgB,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC,CAAC;MAC3D,CAAC,CAAC,OAAOO,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAEDf,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,CAACH,aAAa,CAAC,CAAC;AAEzB,CAAC,kCACH,CAAC;AAEH,eAAeC,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}