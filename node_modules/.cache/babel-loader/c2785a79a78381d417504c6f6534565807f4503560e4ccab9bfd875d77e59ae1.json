{"ast":null,"code":"const BackgroundRemoverService = (() => {\n  const removeBackground = async image => {\n    const base64Image = btoa(image).replace(\"data\", \"\").replace(\":\", \"\").replace(\"image/png\", \"\").replace(\";\", \"\").replace(\"base64\", \"\");\n    const formData = new FormData();\n    formData.append(\"image_file_b64\", base64Image);\n    formData.append(\"size\", \"auto\");\n    try {\n      const response = await fetch('https://api.remove.bg/v1.0/removebg', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'X-Api-Key': 'fFoUcZujDLDpJUdn2waevN9f'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Remove bg API call failed');\n      }\n      console.log(await response.text());\n      const data = await response.blob();\n      const imageUrl = URL.createObjectURL(data);\n\n      // return the image data\n      return imageUrl;\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  };\n  return {\n    removeBackground\n  };\n})();\nexport default BackgroundRemoverService;","map":{"version":3,"names":["BackgroundRemoverService","removeBackground","image","base64Image","btoa","replace","formData","FormData","append","response","fetch","method","body","headers","ok","Error","console","log","text","data","blob","imageUrl","URL","createObjectURL","error"],"sources":["/Users/carldring/Desktop/Munchificator/munch-app/Naples/src/services/BackgroundRemoverSerive.ts"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { ResponseType } from 'axios';\nimport { CapturedImageContext } from '../contexts/CapturedImageContext';\n\nconst BackgroundRemoverService = (\n    () => {\n        const removeBackground = async (image: string): Promise<string> => {\n            const base64Image = btoa(image)\n            .replace(\"data\", \"\")\n            .replace(\":\",\"\")\n            .replace(\"image/png\", \"\")\n            .replace(\";\", \"\")\n            .replace(\"base64\", \"\")\n\n\n            const formData = new FormData();\n            formData.append(\"image_file_b64\", base64Image);\n            formData.append(\"size\", \"auto\");\n\n            try {\n              const response = await fetch('https://api.remove.bg/v1.0/removebg', {\n              method: 'POST',\n              body: formData,\n              headers: {\n              'X-Api-Key': 'fFoUcZujDLDpJUdn2waevN9f',\n              },\n              });\n            \n                if (!response.ok) {\n                  throw new Error('Remove bg API call failed');\n                }\n\n                console.log(await response.text());\n            \n                const data = await response.blob();\n                const imageUrl = URL.createObjectURL(data);\n            \n                // return the image data\n                return imageUrl;\n              } catch (error) {\n                console.error(error);\n                throw error;\n              }\n        };\n\n        return{\n            removeBackground\n        }\n    }    \n)();\n\nexport default BackgroundRemoverService;"],"mappings":"AAIA,MAAMA,wBAAwB,GAAG,CAC7B,MAAM;EACF,MAAMC,gBAAgB,GAAG,MAAOC,KAAa,IAAsB;IAC/D,MAAMC,WAAW,GAAGC,IAAI,CAACF,KAAK,CAAC,CAC9BG,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CACnBA,OAAO,CAAC,GAAG,EAAC,EAAE,CAAC,CACfA,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CACxBA,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAChBA,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;IAGtB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEL,WAAW,CAAC;IAC9CG,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC;IAE/B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;QACpEC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEN,QAAQ;QACdO,OAAO,EAAE;UACT,WAAW,EAAE;QACb;MACA,CAAC,CAAC;MAEA,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;MAC9C;MAEAC,OAAO,CAACC,GAAG,CAAC,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAAC;MAElC,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;MAClC,MAAMC,QAAQ,GAAGC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC;;MAE1C;MACA,OAAOE,QAAQ;IACjB,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdR,OAAO,CAACQ,KAAK,CAACA,KAAK,CAAC;MACpB,MAAMA,KAAK;IACb;EACN,CAAC;EAED,OAAM;IACFvB;EACJ,CAAC;AACL,CAAC,EACH,CAAC;AAEH,eAAeD,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}